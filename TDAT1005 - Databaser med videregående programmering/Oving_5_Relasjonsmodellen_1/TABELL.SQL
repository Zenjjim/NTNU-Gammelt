DROP TABLE IF EXISTS BORETTSLAG;
DROP TABLE IF EXISTS BYGNINGER;
DROP TABLE IF EXISTS ANDELSEIERE;
DROP TABLE IF EXISTS LEILIGHETER;

CREATE TABLE BORETTSLAG(
  BORETTSNR INT(11) NOT NULL, #PK
  ADRESSE CHAR(50) NOT NULL,
  ANTALLBYGNINGER INT(5) NOT NULL,
  ETABLERINGSAAR INT(4) NOT NULL,
  PRIMARY KEY (BORETTSNR)
);

CREATE TABLE BYGNINGER(
  BYGGNINGSNR INT(3) NOT NULL, #PK
  ANTALLETASJER INT(3) NOT NULL,
  ANTALLLEILIGHETER INT(5) NOT NULL,
  BORETTSLAGNR INT(11) NOT NULL, #FREM
  PRIMARY KEY (BYGGNINGSNR),
  FOREIGN KEY (BORETTSNR) REFERENCES BORETTSLAG(BORETTSNR)
);

CREATE TABLE LEILIGHETER(
  ANTALLROM INT(3) NOT NULL,
  ANTALLKVADRAT INT(4) NOT NULL,
  ETASJE INT(3) NOT NULL, #PK
  LEILIGHETNR INT(5) NOT NULL, #PK
  BYGGNINGSNR INT(3) NOT NULL, #FREM
  PRIMARY KEY (LEILIGHETNR, ETASJE),
  FOREIGN KEY (BYGGNINGSNR) REFERENCES BYGNINGER (BYGGNINGSNR) ON DELETE CASCADE
);

CREATE TABLE ANDELSEIERE(
  LEILIGHETNR INT(5), #FREM
  EGENNAVN CHAR(50) NOT NULL,
  MEDLEMSSNR INT(11) NOT NULL, #PK
  PRIMARY KEY (MEDLEMSSNR),
  FOREIGN KEY (LEILIGHETNR) REFERENCES LEILIGHETER (LEILIGHETNR)
);

INSERT INTO BORETTSLAG(`BORETTSNR`, `ADRESSE`, `ANTALLBYGNINGER`, `ETABLERINGSAAR`) VALUES (1,"I niko sin bukse", 10, 1998);
INSERT INTO BYGNINGER(`BYGGNINGSNR`, `ANTALLETASJER`, `ANTALLLEILIGHETER`, `ETABLERINGSAAR`) VALUES (1, 5, 50, 1);
INSERT INTO LEILIGHETER(`ANTALLROM`, `ANTALLKVADRAT`, `ETASJE`, `LEILIGHETNR`, `BYGGNINGSNR`) VALUES (3, 10, 2, 4, 1);
INSERT INTO ANDELSEIERE(`LEILIGHETNR`, `EGENNAVN`, `MEDLEMSSNR`) VALUES (4, "Zaim Imran", 131298);
--INSERT INTO ANDELSEIERE(`LEILIGHETNR`, `EGENNAVN`, `MEDLEMSSNR`) VALUES (7, "Nikolai Dokken", 131298);
